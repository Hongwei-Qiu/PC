webpackJsonp([8],{KYPj:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("woOf"),a=i.n(e),n=(i("ZMHN"),i("lKwb")),l={appid:n.a.appid,timeStamp:n.a.timeStamp},r={components:{},data:function(){return{orderlist:[],item_default:"",url:n.a.root,title:[{name:"全部订单",id:"0"},{name:"待审核",id:"1"},{name:"备货中",id:"2"},{name:"配送中",id:"3"},{name:"已收货",id:"4"},{name:"已取消",id:"5"}],titleId:"0",options:[],value:"",select_zid:""}},methods:{selectClick:function(t){this.select_zid=t,this.allOrder()},childInfo:function(){var t=this,s=this.$md5("appid="+n.a.appid+"&timeStamp="+n.a.timeStamp+n.a.appsecret);this.$get(n.a.root+n.a.childInfo,{appid:n.a.appid,timeStamp:n.a.timeStamp,sign:s}).then(function(s){200==s.code&&(t.options=s.data)})},allOrder:function(){var t=this,s=a()({page:1,type:2},l);console.log(s);var i=this.$md5(objKeySort(s)+n.a.appsecret),e=a()({sign:i,select_zid:this.select_zid,status:this.titleId},s);this.$get(n.a.root+n.a.orderList,e).then(function(s){for(var i=s.data,e=0;e<i.list.length;e++)i.list[e].item_img=n.a.root+i.list[e].item_img;t.orderlist=i.list,t.item_default=t.url+i.item_default})},handleCommand:function(t){this.$message("click on item "+t)},operate:function(t,s,i){var e=this,r=a()({id:t},l),_=this.$md5(objKeySort(r)+n.a.appsecret),c=a()({sign:_},r);this.$get(n.a.root+s,c).then(function(t){200!=t.code?e.$Toast({message:t.msg,duration:1e3}):(e.$Toast({message:i,duration:1e3}),e.allOrder())})},cancel:function(t){this.operate(t,n.a.cancelOrder,"取消订单成功")},confirm:function(t){this.operate(t,n.a.receiveOrder,"确认收货成功")},anotherOrder:function(t){this.operate(t,n.a.oneMoreTime,"再来一单成功")},titleClick:function(t){this.titleId=t.id,this.allOrder()}},mounted:function(){},created:function(){this.childInfo(),this.allOrder()}},_={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("article",[i("div",{staticClass:"content_box"},[i("div",{staticClass:"order_box"},[i("div",{staticClass:"order_top"},[i("div",{staticClass:"top_left"},t._l(t.title,function(s){return i("div",{staticClass:"top_left_item",class:{on:t.titleId==s.id},on:{click:function(i){return t.titleClick(s)}}},[t._v("\n\t\t\t\t\t\t"+t._s(s.name)+"\n\t\t\t\t\t\t")])}),0),t._v(" "),i("div",{staticClass:"top_right"},[i("div",[t._v("选择子账号：")]),t._v(" "),i("div",[i("el-select",{attrs:{placeholder:"选择子账号"},on:{change:t.selectClick},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}},t._l(t.options,function(t){return i("el-option",{key:t.nickname,attrs:{label:t.nickname,value:t.nickname}})}),1)],1)])]),t._v(" "),i("div",{staticClass:"order_content"},[i("table",[t._m(0),t._v(" "),t._l(t.orderlist,function(s){return i("tr",{staticClass:"list_box"},[i("td",{staticClass:"divcss5-td-1"},[i("div",{staticClass:"list_top"},[t._v("下单时间"+t._s(s.created_time))]),t._v(" "),i("div",{staticClass:"list_txt",staticStyle:{display:"flex"}},[""!=s.item_img?i("img",{attrs:{src:s.item_img}}):t._e(),t._v(" "),""==s.item_img?i("img",{attrs:{src:t.item_default}}):t._e(),t._v(" "),i("div",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(s.item_title))])])]),t._v(" "),i("td",{staticClass:"divcss5-td-1"},[i("div",{staticClass:"list_top"},[t._v("订单号："+t._s(s.order_sn))]),t._v(" "),i("div",{staticClass:"list_txt"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(s.item_count)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("td",{staticClass:"divcss5-td-2"},[i("div",{staticClass:"list_txt"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(s.xd_price)+"\n\t\t\t\t\t\t\t")])]),t._v(" "),i("td",{staticClass:"divcss5-td-2"},[i("div",{staticClass:"list_txt"},[0==s.order_status?i("span",[t._v("待审核")]):t._e(),t._v(" "),1==s.order_status?i("span",[t._v("备货中")]):t._e(),t._v(" "),2==s.order_status?i("span",[t._v("配送中")]):t._e(),t._v(" "),3==s.order_status?i("span",[t._v("已收货")]):t._e(),t._v(" "),4==s.order_status?i("span",[t._v("已取消")]):t._e()])]),t._v(" "),i("td",{staticClass:"divcss5-td-3"},[4==s.order_status||1==s.order_status?i("div",{staticClass:"list_txt list_btn"},[i("span",{staticClass:"without"},[t._v("\n\t\t\t\t\t\t\t\t\t/\n\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),0==s.order_status?i("div",{staticClass:"list_txt list_btn"},[i("span",{staticClass:"cancel",on:{click:function(i){return t.cancel(s.id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t取消订单\n\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),3==s.order_status?i("div",{staticClass:"list_txt list_btn"},[i("span",{staticClass:"again",on:{click:function(i){return t.anotherOrder(s.id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t再来一单\n\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),2==s.order_status?i("div",{staticClass:"list_txt list_btn"},[i("span",{staticClass:"affirm",on:{click:function(i){return t.confirm(s.id)}}},[t._v("\n\t\t\t\t\t\t\t\t\t确认收货\n\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),3==s.order_status?i("div",{staticClass:"list_txt list_btn"},[i("span",{staticClass:"logistics"},[t._v("\n\t\t\t\t\t\t\t\t\t查看物流\n\t\t\t\t\t\t\t\t")])]):t._e()]),t._v(" "),i("td",[i("div",{staticClass:"list_time"},[t._v("\n\t\t\t\t\t\t\t\t配送时间："+t._s(s.send_time)+"\n\t\t\t\t\t\t\t")]),t._v(" "),i("div",{staticClass:"list_examine"},[i("router-link",{attrs:{to:{name:"orderDetails",query:{id:s.id}}}},[t._v(" 查看")])],1)])])})],2)])])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("tr",[i("th",{attrs:{align:"left"}},[t._v("商品")]),t._v(" "),i("th",{attrs:{align:"left"}},[t._v("数量")]),t._v(" "),i("th",{attrs:{align:"left"}},[t._v("金额")]),t._v(" "),i("th",{attrs:{align:"left"}},[t._v("订单状态")]),t._v(" "),i("th",{attrs:{align:"left"}},[t._v("操作")])])}]},c=i("VU/8")(r,_,!1,null,null,null);s.default=c.exports}});